# Marketplace

## Building Block Description

### Summary

The Marketplace Building Block represent a collaborative web platform where urban infrastructure or transport projects could check their climate-proof capabilities and get valuable information for decision making by the CSIS tool available in the marketplace.

An infrastructure project manager, as a marketplace customer, can register into the marketplace to create and describe his infrastructure project details, and even provide related data to ease being evaluated. Also being part of the marketplace could allow a customer to access different services and/or data provided by other marketplace users.
Other users can register into the marketplace as data or service (human/software) providers by describing each service or data set metadata within a personal services portfolio.

A 'matchmaking' functionality available in the marketplace enable customers to find suitable climate experts advisory services and relevant climate data and software services available in the marketplace to be used as inputs on the EU-GL compliant workflow provided by CSIS in order to find available adaptation measures that could minimize the impact on the infrastructures under study.
This defines the marketplace meeting point where infrastructure project managers, climate experts and climate data and services providers can find communicate each otherâ€™s to collaborate on assessing about climate impact.


### Functionality

Baseline requirements elicitation and the assessment of presently available Test Cases identified the following functional requirements on this particular Building Block:

**Baseline functionality**


- Public Service Provider Catalogue 
	- service provider profiles signals professionalism, reputation and trustworthiness
	- links to clients and case studies (demonstrators)
	- portfolio with links to Expert Climate Services
	- rich set of meta-data for matchmaking and discovery functionality 
- Public Expert Climate Services Catalogue
	- clear and detailed description (in relation to CLARITY Methodology) of the (tailored) Expert Climate Services including information on costs (rough estimate)
	- may contain not only advisory, consulting, modelling, development, ... services but also local data
	- associated with a Service Provider Portfolio
	- rich set of meta-data for matchmaking and discovery functionality
- Customer Inquiries
	- user can create private inquiries
	- inquiries are only visible to registered providers. (business model: buy subscription to see inquiries)
	- an "order list" can be generated by expert workflow tool ("Scenario Management") as simple requirements specification for an Expert Climate Service
- Expert Offer
	- provider can make an offer, provide a contract specification, etc.
	- provider can request access to the user's workspace in expert workflow tool, e.g. down- or upload data
	- offers are (easily) comparable since the have to follow the requirements specification
	
**Functionality requested by CSIS Test Cases:**

- from **[TC-CSIS-0030]**: The Marketplace needs to access and show user profile information that is stored in the common user data catalogue (expectedly the PostgeSQL Drupal back-end). If the Drupal Backend DB is separate Docker instance, the Marketplace Building Block can possibility (read-only) access this database directly.
- from **[TC-CSIS-0030]**: The Marketplace Building Block has also to offer some APIs that enables other Building Blocks like Scenario Management to access and interact with service portfolios, e.g. to search for specific Climate Service types (sectoral, spatial, etc.) and for the purpose of matchmaking (proposing fitting Expert Climate Service to users during Climate Adaptation Study).
- from **[TC-CSIS-0031](http://cat.clarity-h2020.eu/node/1003/)**: Either the Marketplace Building Block or the UI Integration Platform should enable the Climate Service Provider to create and manage its detailed supplier profile. 

**Functionality requested by DC Test Cases:**

- from **[TC DC1]**(http://cat.clarity-h2020.eu/node/791)** The request (specification) to perform alternate (adaptation) scenarios for scenario comparison created by the Scenario Management Building Block can optionally be added as "customer inquiry" to the Marketplace so that Climate Service Providers (Experts) can make an offer through the Marketplace.
- from **[TC DC1](http://cat.clarity-h2020.eu/content/tc-dc1-preparing-climate-maps-heat-hazard-analysis-city-scale)**: The Marketplace has to provide the possibility for user to order an expert service for running an urban climate model (e.g. MUKLIMO 3) and to request the model output in a standardised format (e.g. NetCDF) that is supported by the CLARITY CSIS.
- from **[TC DC1](http://cat.clarity-h2020.eu/node/1015/)**: The Marketplace has furthermore to support the user in ordering data needed as input or a specific model, if the data cannot be provided by the user and the data is not available for free in the Catalogue of Data Sources and Simulation Models.
- from **[TC DC4](http://cat.clarity-h2020.eu/content/tc-dc4-010-climate-broker-road-elements)**: The Marketplace has to provide a way for a user to contact a Climate Broker. Additionally, the Climate Broker will need to get the parameters of the request received and send the results (or notify) to the end user. The Climate Broker should also be listed on the Marketplace.
- from **[TC DC4](http://cat.clarity-h2020.eu/content/tc-dc4-030-hazard-assessment-road-elements)**: The Marketplace Building Block provides the possibility to assign an assessment to a Climate Broker.
- from **[TC DC4 010](http://cat.clarity-h2020.eu/node/933/)**: The Marketplace Building Block is used to store and publish standardised order specifications from end users (Climate Service Customer)  that can be used by Climate Brokers (Climate Service Suppliers) to prepare an individual offer for a tailored Expert Climate Service (e.g. generate local data with urban climate model).
- from **[TC DC4 010](http://cat.clarity-h2020.eu/node/933/)**: The Climate Broker (Climate Service Supplier) receives the request to perform an assessment from an end user and communicate with them.

### Exploitation Requirements assessment

The assessment of the Exploitation Requirements [2] identified the following concrete technical and functional implications on this particular Building Block:

- from "Demonstrate and communicate the (co-)benefits of Climate Services": clearly advertise benefits for end users and dissemination experts should formulate and communicate these benefits, e.g. in form of online presentations and infographics (http://www.visualisingdata.com/resources), e.g. https://www.slideshare.net/ECFoundation/presentations. 
- from "Demonstrate and communicate the (co-)benefits of Climate Services": IT infrastructure and technology support as well as a Marketplace for Expert Climate Services is needed in the CSIS so that it is also beneficial for external Climate Service Providers to offer/provide their tailored Climate Service on the CLARITY CSIS.
- from "Establish trust in Climate Services and their providers": Climate Service providers have to disclose information on which data or methods they used to develop their Climate Service  and how they dealt with uncertainties. This relates mainly to the Climate Service Provider Portfolios in the Service Catalogue / Marketplace
- from "Co-design Climate Services engaging a community of users, providers, purveyors and researchers": integrate with the CLARITY community and the marketplace be able to involve also new stakeholders (e.g. data providers) during all phases of the co-design process
- from "Offer commercial fit-for-purpose tailored services targeting specific sectors and user groups": Technical specifications include for example an Information Model for Expert Climate Services that clearly defines the service level agreements and that can be related to elements of a Climate Service Providers Service Portfolio or a Service Catalogue in the CLARITY Marketplace.
- from "Offer commercial fit-for-purpose tailored services targeting specific sectors and user groups": Easy technical facilities for external data and service providers to join the CLARITY Community & Marketplace and to offer their Climate Services have to be provided. This includes for example functionalities for creating Service Provider Profiles and Service Portfolios and to link them with other relevant information available in the CSIS. Thereby, rich meta-information is important to describe providers and services and to put into regional and sectoral context.


### Technology Support

User Interface as separate page on myclimateservice.eu and API that can be used by other Building Blocks, e.g. in "CSIS Product" (Mock-Ups!)

Thereby, relevant technologies for information visualisation (e.g. https://www.vizzuality.com/projects/prep or http://selection.datavisualization.ch/) have to be selected and integrated. (from Expl.Req. Demonstrate and communicate the (co-)benefits of Climate Services): Showcase Provider Climate Services (real case studies, e.g. 

- https://marketplace.service.gov.au/
- https://marketplace.egi.eu/
- https://fr.commerceguys.com/en/blog/8-modules-now-part-drupal-commerce-core

The portal will be based on Drupal 7 and will use javascript libraries such as Vue, React, Angular2. 

-----------------------------------


A content management system (CMS) provides a reliable starting point for a marketplace like web portal, and specifically Drupal being open source (under GNU/GPL license) looks as a suitable option to develop CLARITY marketplace. It is widely used and has lots of modules extending its capabilities and also has a large developers community.
One of those modules is the commerce providing shopping cart and different payment methods are supported, also subscriptions and recurring payments, sell file downloads, invoice generation and email notifications as well as sale reports. All this could be useful for a Marketplace like web portal where climate services providers will interact with infrastructure project managers.  
Drupal also provides a robust user management and login system allowing different privileges for different users. Mainly there will be customers (project managers) and providers (climate expert advisors or climate data or software services providers) but it will be useful to define different kind of permissions depending on the data that a customer can access or the infrastructure projects a climate services provider can access should be restricted and controlled.
Drupal website contents can be classified by using taxonomies and also assign contents to the appropriate users in the system, this allows definition of climate infrastructure project and providers climate services portfolios and its metadata. Drupal also provides search functionalities that can ease the discovery of services for the different customers looking for data or advise within the CLARITY marketplace. In the same way a messaging system can be defined to ease collaboration between different users and tasks can be assigned to different users, even a task status can be set to allow an appropriate infrastructure climate project management.
Drupal works with templates and PHP to allow data management with MySQL or PostgreSQL, indeed there are Docker images on the Docker Store to ease Drupal deployment into a Docker container with all the required components (https://store.docker.com/images/drupal).
Drupal works against a PHP endpoint under an Apache web server where all PHP requests are received and then interactions with Drupal database model can happen, but also data in the database model can be accessed directly through a direct database connection.
Integration with javascript like React could be done as already seen in the UI Integration platform building block (section 7.5.2), there are three different choices and the combination of CMS-based approach and javascript Framework-based approach seems to be the more suitable approach for CLARITY marketplace.

## Marketplace "Preview" for the Review

Ideas from the GA/NorkÃ¶pping:

- Marketplace could be shown at the review. For the review stuff it would be a Drupal Web-Site. PLINIVS already delivered a blue-print what kind of provider profile and service portfolio we would need from the experts: [PLINIVS Service Exploitation](https://repository.atosresearch.eu/owncloud/index.php/apps/files/ajax/download.php?dir=%2FCLARITY%2FWP1%20CO-Creation%2FT1.3%20Climate%20Services%20Co-Creation%2Fmaterial&files=PLINIVS%20Services%20exploitation.docx)
- More or less an extended profile of the organisation with mapping the EU-GL process to climate expert services.
- User can than be presented a link to the marketplace, e.g. SMHI as expert can be used for the downscaling
- Relation to Mock-Ups: We have a mock-up of the pre-feasibility. The mock-up will propose you with a list of experts. Click on the link. Opens the real marketplace web-site and leads you to the relevant expert.
- We have to get **external experts** to get involved into the marketplace. Maybe from the CLARA  project (type of climate services that they could be able to provide).


## Marketplace Data models

**Draft** data model for climate service provider **profiles** and service **portfolios** for marketplace. See also example of a detailed provider profile from PLINIVS.

### Climate Service Provider

#### general properties

- key type: provider / purveyor
- type: National meteorological and hydro-meteorological services, (Federal) state agencies, Ministries, Research institutes, Universities, Private companies, Consultancies, Engineering offices, Consortia of different provider types,
- service level: providing data (from observations or projections), providing products (created from data) and/or providing information (interpretation of products)
- sectors that are addressed: *list of (economic) sectors*
- key activities: including adaptation, mitigation or risk reduction.
- operational approach: research institutions, private companies, collaborative networks, governmental bodies and virtual platforms
- multi-disciplinary backgrounds: providers, as they can accrue from fundamental climate science, climate impact, vulnerability and adaptation research, political science, psychology or communication
- funding of the providers: publicly or privately
- legitimacy of the provider (experience and reputation).

#### **portfolio**: 

Expert Climate Service offered through CSIS Marketplace.
Part of a CS Provider's **Portfolio**.

- name
- required input by user (which local data)
- required default input (generally available climate data, land use data, etc.) in low resolution 
- output: output generated for user
- characteristics: assumptions, limitations and uncertainties
- rationale for the climate services on offer: including whether those services have developed i) as a side product alongside the providerâ€™s core business (e.g. Meteorological services and consultancies) ii) based on the providerâ€™s core business (e.g. climate research institutions) or iii) together with a newly founded provider institution.
- service is supply or demand driven, the scope of user engagement in the development of services and the mechanisms of their involvement
- "matchmaking information": anything that is needed to match the offer to demand, e.g. specific hazards, locations, infrastructure project type, etc.

### Some Examples for **CLARITY Expert Climate Services**
- Products
- Basic climate data, climate parameters, derived climate variables, analyses and indices
- Climate change scenarios and projections
- climate impact indicators, impact studies
- Vulnerability studies
- Climate risk assessments
- Cost-effectiveness analyses of adaptation measures
- Socio-economic indicators related to climate change
- Synthesis reports
- Factsheets, charts, figures
- General guidance
- Tailored user support
- Climate change education and training (JPI Climate 2011, WMO 2011)





